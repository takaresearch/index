# 姿勢推定による骨密度予測研究プロジェクト

## プロジェクト概要

本プロジェクトは、深層学習ベースの姿勢推定アルゴリズムを用いて、立位側面写真から骨密度を予測する機械学習モデルの開発と精度検証を行う研究です。

## 研究の目的

1. 姿勢パラメータ(胸椎後弯角度など)と骨密度の相関を明らかにする
2. 機械学習による骨密度予測モデルの精度を検証する
3. 非侵襲的・低コストな骨粗鬆症スクリーニングツールの実現可能性を示す

## ファイル構成

```
Research_posture_bmd/
│
├── README.md                          # 本ファイル
├── manuscript_ja.md                   # 論文ドラフト(日本語)
├── data_collection_template.xlsx      # データ収集シート(作成予定)
├── informed_consent_template.md       # インフォームドコンセント書式
├── questionnaire.md                   # 被験者質問紙
├── references.bib                     # 参考文献(BibTeX形式)
│
├── data/                              # データフォルダ(作成予定)
│   ├── raw/                          # 原データ
│   │   ├── images/                   # 撮影写真
│   │   └── dxa_results/              # DXA測定結果
│   ├── processed/                    # 処理済みデータ
│   │   ├── pose_parameters.csv       # 抽出された姿勢パラメータ
│   │   └── clinical_data.csv         # 臨床データ
│   └── results/                      # 解析結果
│
├── code/                              # 解析コード(作成予定)
│   ├── 01_pose_estimation.py         # 姿勢推定処理
│   ├── 02_feature_extraction.py      # 特徴量抽出
│   ├── 03_data_preprocessing.py      # データ前処理
│   ├── 04_model_training.py          # モデル訓練
│   ├── 05_model_evaluation.py        # モデル評価
│   └── utils.py                      # ユーティリティ関数
│
├── figures/                           # 図表(作成予定)
│   ├── flowchart.png                 # 研究フローチャート
│   ├── correlation_matrix.png        # 相関行列
│   └── model_performance.png         # モデル性能比較
│
└── docs/                              # 関連文書
    ├── protocol.md                    # 研究プロトコル詳細
    ├── ethics_approval.pdf            # 倫理委員会承認書(取得後)
    └── analysis_plan.md               # 統計解析計画書
```

## 研究の進行状況

- [x] 研究プロトコルの作成
- [x] 論文ドラフトの作成
- [ ] 倫理委員会への申請と承認取得
- [ ] 被験者募集
- [ ] データ収集(写真撮影・DXA測定)
- [ ] 姿勢推定アルゴリズムの実装とテスト
- [ ] データ解析
- [ ] 論文執筆(結果・考察の完成)
- [ ] 学術誌への投稿

## 必要な環境・ツール

### ソフトウェア
- Python 3.8以上
- 必要なライブラリ:
  - OpenCV
  - TensorFlow / PyTorch
  - OpenPose または MediaPipe
  - NumPy, Pandas, Scikit-learn
  - Matplotlib, Seaborn
  - SciPy, Statsmodels

### ハードウェア
- カメラ(スマートフォンまたはデジタルカメラ、1920×1080ピクセル以上)
- 三脚
- DXA装置(骨密度測定用)
- GPU搭載コンピュータ(姿勢推定処理の高速化、推奨)

## データ収集プロトコル

### 写真撮影
1. 被験者を標準化された位置に立たせる
2. 完全な側面(矢状面)から撮影
3. カメラ高さ: 大転子の高さ
4. 撮影距離: 2.5メートル
5. 2枚の写真を撮影(再現性確認のため)

### DXA測定
- 測定部位: 腰椎(L1-L4)、大腿骨近位部
- 測定タイミング: 写真撮影と同日または1週間以内

## データ解析の手順

1. **姿勢推定**: OpenPose/MediaPipeを用いてキーポイント検出
2. **特徴量抽出**: 胸椎後弯角度、頭部前方位などを算出
3. **データ前処理**: 欠損値処理、スケーリング、外れ値処理
4. **モデル訓練**: 複数の機械学習アルゴリズムで訓練
5. **モデル評価**: 交差検証によるR²、MAE、RMSEの算出
6. **統計解析**: 相関分析、回帰分析、群間比較

## 倫理的配慮

- 本研究は[所属機関]倫理委員会の承認を取得済み(承認番号: 取得後記載)
- すべての被験者から書面によるインフォームドコンセントを取得
- 個人情報の厳格な保護とデータの匿名化
- 研究結果は学術目的にのみ使用

## 連絡先

研究責任者: [氏名]
所属: [所属機関名]
Email: [メールアドレス]

## ライセンス

本研究のコードとドキュメントは、学術研究目的での使用に限定されます。
商用利用には研究責任者の事前承認が必要です。

## 更新履歴

- 2026年2月3日: プロジェクト開始、論文ドラフト作成
